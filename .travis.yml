dist: trusty
sudo: true
services:
- docker
language: node_js
node_js:
- '9'
before_install:
- npm install -g jspm
- npm install -g gulp
- jspm config registries.github.auth $JSPM_GITHUB_AUTH_TOKEN
install:
- npm install
before_script:
- DOCKER_IMAGE_NAME="q-editor"
- DOCKER_TAG=$TRAVIS_BRANCH
script:
- cd client
- npm install 
- jspm install
- gulp lint 
- gulp export 
- cd .. ;
- docker build -t $DOCKER_IMAGE_NAME:$DOCKER_TAG .;
after_success:
- echo $DOCKER_PASSWORD | docker login -u="$DOCKER_USERNAME" --password-stdin; docker tag $DOCKER_IMAGE_NAME:$DOCKER_TAG
  nzzonline/$DOCKER_IMAGE_NAME:$DOCKER_TAG; docker push nzzonline/$DOCKER_IMAGE_NAME:$DOCKER_TAG;